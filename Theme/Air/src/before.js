
(function(){var a,b,c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=function(){function a(){}return a.prototype.extend=function(a,b){var c,d;for(c in b)d=b[c],null==a[c]&&(a[c]=d);return a},a.prototype.isMobile=function(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)},a.prototype.createEvent=function(a,b,c,d){var e;return null==b&&(b=!1),null==c&&(c=!1),null==d&&(d=null),null!=document.createEvent?(e=document.createEvent("CustomEvent"),e.initCustomEvent(a,b,c,d)):null!=document.createEventObject?(e=document.createEventObject(),e.eventType=a):e.eventName=a,e},a.prototype.emitEvent=function(a,b){return null!=a.dispatchEvent?a.dispatchEvent(b):b in(null!=a)?a[b]():"on"+b in(null!=a)?a["on"+b]():void 0},a.prototype.addEvent=function(a,b,c){return null!=a.addEventListener?a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},a.prototype.removeEvent=function(a,b,c){return null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]},a.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},a}(),c=this.WeakMap||this.MozWeakMap||(c=function(){function a(){this.keys=[],this.values=[]}return a.prototype.get=function(a){var b,c,d,e,f;for(f=this.keys,b=d=0,e=f.length;e>d;b=++d)if(c=f[b],c===a)return this.values[b]},a.prototype.set=function(a,b){var c,d,e,f,g;for(g=this.keys,c=e=0,f=g.length;f>e;c=++e)if(d=g[c],d===a)return void(this.values[c]=b);return this.keys.push(a),this.values.push(b)},a}()),a=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a=function(){function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return a.notSupported=!0,a.prototype.observe=function(){},a}()),d=this.getComputedStyle||function(a,b){return this.getPropertyValue=function(b){var c;return"float"===b&&(b="styleFloat"),e.test(b)&&b.replace(e,function(a,b){return b.toUpperCase()}),(null!=(c=a.currentStyle)?c[b]:void 0)||null},this},e=/(\-([a-z]){1})/g,this.WOW=function(){function e(a){null==a&&(a={}),this.scrollCallback=f(this.scrollCallback,this),this.scrollHandler=f(this.scrollHandler,this),this.resetAnimation=f(this.resetAnimation,this),this.start=f(this.start,this),this.scrolled=!0,this.config=this.util().extend(a,this.defaults),null!=a.scrollContainer&&(this.config.scrollContainer=document.querySelector(a.scrollContainer)),this.animationNameCache=new c,this.wowEvent=this.util().createEvent(this.config.boxClass)}return e.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},e.prototype.init=function(){var a;return this.element=window.document.documentElement,"interactive"===(a=document.readyState)||"complete"===a?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},e.prototype.start=function(){var b,c,d,e;if(this.stopped=!1,this.boxes=function(){var a,c,d,e;for(d=this.element.querySelectorAll("."+this.config.boxClass),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.all=function(){var a,c,d,e;for(d=this.boxes,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(e=this.boxes,c=0,d=e.length;d>c;c++)b=e[c],this.applyStyle(b,!0);return this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new a(function(a){return function(b){var c,d,e,f,g;for(g=[],c=0,d=b.length;d>c;c++)f=b[c],g.push(function(){var a,b,c,d;for(c=f.addedNodes||[],d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push(this.doSync(e));return d}.call(a));return g}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},e.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},e.prototype.sync=function(b){return a.notSupported?this.doSync(this.element):void 0},e.prototype.doSync=function(a){var b,c,d,e,f;if(null==a&&(a=this.element),1===a.nodeType){for(a=a.parentNode||a,e=a.querySelectorAll("."+this.config.boxClass),f=[],c=0,d=e.length;d>c;c++)b=e[c],g.call(this.all,b)<0?(this.boxes.push(b),this.all.push(b),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(b,!0),f.push(this.scrolled=!0)):f.push(void 0);return f}},e.prototype.show=function(a){return this.applyStyle(a),a.className=a.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(a),this.util().emitEvent(a,this.wowEvent),this.util().addEvent(a,"animationend",this.resetAnimation),this.util().addEvent(a,"oanimationend",this.resetAnimation),this.util().addEvent(a,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(a,"MSAnimationEnd",this.resetAnimation),a},e.prototype.applyStyle=function(a,b){var c,d,e;return d=a.getAttribute("data-wow-duration"),c=a.getAttribute("data-wow-delay"),e=a.getAttribute("data-wow-iteration"),this.animate(function(f){return function(){return f.customStyle(a,b,d,c,e)}}(this))},e.prototype.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),e.prototype.resetStyle=function(){var a,b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.style.visibility="visible");return e},e.prototype.resetAnimation=function(a){var b;return a.type.toLowerCase().indexOf("animationend")>=0?(b=a.target||a.srcElement,b.className=b.className.replace(this.config.animateClass,"").trim()):void 0},e.prototype.customStyle=function(a,b,c,d,e){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",c&&this.vendorSet(a.style,{animationDuration:c}),d&&this.vendorSet(a.style,{animationDelay:d}),e&&this.vendorSet(a.style,{animationIterationCount:e}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a},e.prototype.vendors=["moz","webkit"],e.prototype.vendorSet=function(a,b){var c,d,e,f;d=[];for(c in b)e=b[c],a[""+c]=e,d.push(function(){var b,d,g,h;for(g=this.vendors,h=[],b=0,d=g.length;d>b;b++)f=g[b],h.push(a[""+f+c.charAt(0).toUpperCase()+c.substr(1)]=e);return h}.call(this));return d},e.prototype.vendorCSS=function(a,b){var c,e,f,g,h,i;for(h=d(a),g=h.getPropertyCSSValue(b),f=this.vendors,c=0,e=f.length;e>c;c++)i=f[c],g=g||h.getPropertyCSSValue("-"+i+"-"+b);return g},e.prototype.animationName=function(a){var b;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=d(a).getPropertyValue("animation-name")}return"none"===b?"":b},e.prototype.cacheAnimationName=function(a){return this.animationNameCache.set(a,this.animationName(a))},e.prototype.cachedAnimationName=function(a){return this.animationNameCache.get(a)},e.prototype.scrollHandler=function(){return this.scrolled=!0},e.prototype.scrollCallback=function(){var a;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a&&(this.isVisible(a)?this.show(a):e.push(a));return e}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},e.prototype.offsetTop=function(a){for(var b;void 0===a.offsetTop;)a=a.parentNode;for(b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b},e.prototype.isVisible=function(a){var b,c,d,e,f;return c=a.getAttribute("data-wow-offset")||this.config.offset,f=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,e=f+Math.min(this.element.clientHeight,this.util().innerHeight())-c,d=this.offsetTop(a),b=d+a.clientHeight,e>=d&&b>=f},e.prototype.util=function(){return null!=this._util?this._util:this._util=new b},e.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},e}()}).call(this);$(document).ready(function(){"use strict";$('.topmenu').touchMenuHover();var $topmenuToggle=$('.topmenuToggle');function close(e){if(!$(e.target).is(".topmenuToggle")){$topmenuToggle.next().css('display','');$(".header").add(".global").off('click');}}
$topmenuToggle.on('click',function(e){e.preventDefault();$(this).next().css('display','block');$(".header").add(".global").on('click',close);});});;(function(a){a.fn.touchMenuHover=function(j){var f=a.extend({childTag:"ul",closeElement:"",forceiOS:false,openClass:"tmh-open"},j);var d=a(this).find("a"),i="3ds|android|bada|bb10|hpwos|iemobile|kindle fire|opera mini|opera mobi|opera tablet|rim|silk|wiiu",c="|ipad|ipod|iphone",b,g="aria-haspopup",e="html",h;if(f.childTag.toString().toLowerCase()!=="ul"||f.forceiOS){i+=c}b=new RegExp(i,"gi");if(d.length>0&&b.test(navigator.userAgent)){d.each(function(){var m=a(this),l=m.parent("li"),k=l.siblings().find("a");if(m.next(f.childTag).length>0){l.attr(g,true)}m.click(function(o){var n=a(this);o.stopPropagation();k.removeClass(f.openClass);if(!n.hasClass(f.openClass)&&n.next(f.childTag).length>0){o.preventDefault();n.addClass(f.openClass)}})});if(f.closeElement.length>1){e+=","+f.closeElement}h=a(e);if("ontouchstart"in window){h.css("cursor","pointer")}h.click(function(){d.removeClass(f.openClass)})}return this}})(jQuery);$(document).ready(function($){$('header, footer').find('a').on('click',function(event){if(this.hash!==""&&$('body').find(this.hash).length>0){event.preventDefault();var hash=this.hash;$('html, body').animate({scrollTop:$(hash).offset().top-50},1000);}});$(window).scroll(function(){$(this).scrollTop()>200?$('#scroll').fadeIn():$('#scroll').fadeOut();});$('#scroll').click(function(event){event.preventDefault();$('body,html').animate({scrollTop:0},1000);});});"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){this.uniFeedback=function(){var d=document;var html=d.documentElement;var body=d.body;var validateFlag=false;var screenFilter=void 0,$hiddenBlock=void 0,number=void 0,mail=void 0,filter=void 0;var timers=[];var getXHR=function getXHR(){if(typeof XMLHttpRequest==='undefined'){XMLHttpRequest=function XMLHttpRequest(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){console.log(e);}};}
return new XMLHttpRequest();};var findParent=function findParent(selector,className){var parent=selector.parentNode;while(parent.tagName!="BODY"&&(!parent.classList[0]||parent.classList[0]!=className)){parent=parent.parentNode;}
return parent.tagName!="BODY"?parent:null;};var transitionEnd=function transitionEnd($elem,callback){for(var _len=arguments.length,params=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){params[_key-2]=arguments[_key];}
var transitionEvents=['transitionend','webkitTransitionEnd','oTransitionEnd','otransitionend','MSTransitionEnd'];transitionEvents.forEach(function(eventName){$elem.addEventListener(eventName,function(e){if(e.propertyName=='opacity')callback.apply(undefined,[$elem].concat(params));},{once:true});});};var uniFeedback=function(){function uniFeedback(options){_classCallCheck(this,uniFeedback);if(options==null)options={};this.config=this.extend(options,this.defaults());this.popupState=false;}
_createClass(uniFeedback,[{key:"defaults",value:function defaults(){return{selector:".uf-handler",mail:null,number:null,popUpForm:true,siteForm:false,filter:"blackout",duration:0.4,getUrl:"/",postUrl:"/",checkboxPersonalInfo:true,additionalFields:{},timingTriggers:[],beforeModalOpen:function beforeModalOpen(){},afterModalOpen:function afterModalOpen(){},beforeSend:function beforeSend(){}};}},{key:"extend",value:function extend(custom,defaults){for(var key in defaults){var value=defaults[key];if(custom[key]==null){custom[key]=value;}}
return custom;}},{key:"init",value:function init(){number=this.config.number;mail=this.config.mail;filter=this.config.filter;var $selector=this.config.selector;var isPopupForm=this.config.popUpForm;var isSiteForm=this.config.siteForm;var duration=this.config.duration;var timingTriggers=this.config.timingTriggers;var Module=this;if(isPopupForm==true){screenFilter=d.createElement("div");screenFilter.classList.add("uf-screenFilter");screenFilter.classList.add("-"+filter);$hiddenBlock=d.createElement("div");$hiddenBlock.classList.add("uf-container");Module.addHandler($selector);body.appendChild(screenFilter);screenFilter.appendChild($hiddenBlock);$hiddenBlock.style.transitionDuration=duration+"s";body.addEventListener('click',function(e){var $elem=e.target;if(Module.popupState==true){var $ufWrapper=findParent($elem,'uf-container');if(!$ufWrapper){Module.closePopUp();}}});}
if(isSiteForm==true){var $siteForms=d.getElementsByClassName("uf-siteForm");for(var i=0,siteFormsLength=$siteForms.length;i<siteFormsLength;i++){Module.formCustomization($siteForms[i],"siteForm");}}
if(Array.isArray(timingTriggers)&&timingTriggers.length>0){timingTriggers.forEach(function(item,i,arr){var timerObj={timer:null,item:item};timers.push(timerObj);});timers.forEach(function(elem,i,arr){Module.setTimeTrigger(elem,Module);});}}},{key:"setTimeTrigger",value:function setTimeTrigger(elem,Module){var flag=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var url=Module.config.getUrl;var count=elem.item.count;if(count=="infinite"||count>0){if(flag==true){var time=elem.item.startTime;}else{if(offset==true&&elem.item.hasOwnProperty("offsetCancel")){var time=elem.item.interval+elem.item.offsetCancel;}else{var time=elem.item.interval;}}
elem.timer=setTimeout(function(){Module.ajaxGetForm(null,url,elem.item.formName,elem);},time*1000);}}},{key:"getSelector",value:function getSelector(target){var symbolArray=[/#/,/./,/ /];for(var s in symbolArray){var selectorMatch=target.match(symbolArray[s]);if(selectorMatch!=null){switch(selectorMatch[0]){case" ":return d.querySelector(target);break;case".":return d.getElementsByClassName(target.slice(1));break;case"#":return[d.getElementById(target.slice(1))];break;default:console.log("uni-feedback: Селектор указан неверно");return false;}}}}},{key:"addHandler",value:function addHandler(selector){var Module=this;var url=Module.config.getUrl;var $uniHandlers=Module.getSelector(selector);if($uniHandlers){for(var i=0,max=$uniHandlers.length;i<max;i++){$uniHandlers[i].addEventListener('click',function(e){e.preventDefault();var handler=e.currentTarget;var layer=handler.getAttribute("data-form");Module.ajaxGetForm(handler,url,layer);},false);}}}},{key:"removeHandler",value:function removeHandler(selector){var Module=this;var url=Module.config.getUrl;var $uniHandlers=this.getSelector(selector);if($uniHandlers){for(var i=0,max=$uniHandlers.length;i<max;i++){$uniHandlers[i].removeEventListener('click',function(e){e.preventDefault();var handler=e.currentTarget;var layer=handler.getAttribute("data-form");Module.ajaxGetForm(handler,url,layer);},false);}}}},{key:"ajaxGetForm",value:function ajaxGetForm(handler,url,layer){var triggerObj=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Module=this;if(layer==null||layer=="null"){console.error("uni-feedback: Не был передан необходимый аттрибут data-form");return;}
var xhr=getXHR();if(xhr){xhr.open("GET",url+"?formTemplate="+layer,true);xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){Module.openPopUp(xhr.responseText,handler,triggerObj);}};xhr.send(null);}}},{key:"openPopUp",value:function openPopUp(responseJson,handler){var triggerObj=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var response=JSON.parse(responseJson);if(!response||!response.status||response.status!='success')return false;this.popupState=true;var Module=this;if(Module.config.hasOwnProperty("timingTriggers")){var tr=Module.config.timingTriggers;if(Array.isArray(tr)&&tr.length>0){if(triggerObj==null){timers.forEach(function(elem,i,arr){clearTimeout(elem.timer);});}else{clearTimeout(triggerObj.timer);if(triggerObj.item.count!="infinite"&&triggerObj.item.count!=0){triggerObj.item.count--;}}}}
$hiddenBlock.innerHTML=response.template;Module.formCustomization($hiddenBlock,"popUpForm",handler,triggerObj);Module.config.beforeModalOpen($hiddenBlock,handler);screenFilter.classList.add("-open");$hiddenBlock.classList.add("-open");transitionEnd($hiddenBlock,Module.config.afterModalOpen,handler);if(Module.config.hasOwnProperty("timingTriggers")&&triggerObj!=null){if(Array.isArray(tr)&&tr.length>0){if(triggerObj.item.hasOwnProperty("func")&&typeof triggerObj.item.func=="function"){triggerObj.item.func();}}}}},{key:"formCustomization",value:function formCustomization($wrapBlock,flag,$handler){var triggerObj=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var $forms=$wrapBlock.getElementsByTagName("form");var $fieldsets=$wrapBlock.getElementsByTagName("fieldset");var Module=this;var $actionBlock=flag!="siteForm"?d.getElementById("uf-request"):$wrapBlock;var $classPrefix=flag!="siteForm"?"uf-popupForm":"uf-siteForm";var additFields=Module.config.additionalFields;var _loop=function _loop(i,max){var $inputs=$forms[i].elements;if(i==0&&flag!="siteForm"&&$handler&&$handler.classList.contains("dynamic")){var title={elem:$fieldsets[i].getElementsByTagName("H4")[0],input:$inputs.title,prefixMessage:$handler.getAttribute("data-message-prefix"),prefix:$handler.getAttribute("data-title-prefix"),postfix:$handler.getAttribute("data-title"),getText:function getText(){if(this.postfix!=null){if(this.prefix!=null){this.elem.textContent=this.prefix+this.postfix;}else{this.elem.textContent+=this.postfix;}
if(this.prefixMessage!=null){this.input.value=this.prefixMessage+this.postfix;}else{this.input.value+=this.postfix;}}}};title.getText();}
if(number!=null){$fieldsets[i].appendChild(generateHiddenInput("number",number));}
if(mail!=null){$fieldsets[i].appendChild(generateHiddenInput("mail",mail));}
if(additFields&&Object.keys(additFields).legth!==0){for(var key in additFields){if(additFields.hasOwnProperty(key)){$fieldsets[i].appendChild(generateHiddenInput(key,additFields[key]));}}}
formValidation($inputs);$inputs.submit.addEventListener('click',function(e){submit(e,$inputs,Module,$actionBlock,$handler,i);});if(!$inputs.cancel){var $outCloseBut=$wrapBlock.querySelector('[name="cancel"]');if($outCloseBut){$inputs.cancel=$outCloseBut;}}
if($inputs.cancel){$inputs.cancel.addEventListener('click',function(){Module.closePopUp(triggerObj,Module);});}};for(var i=0,max=$forms.length;i<max;i++){_loop(i,max);}
function formValidation($inputs){var checkNames={};for(var i=0,max=$inputs.length;i<max;i++){var $field=$inputs[i];switch($field.name){case"sender":mainCheck($field,/^\D[а-яa-z\D]+\D$/);break;case"phone":mainCheck($field,/^[+\d][\d\(\)\ -]{4,14}\d$/);break;case"email":mainCheck($field,/.+@.+\..+/i);break;}
if($field.hasAttribute("data-check")){additionalCheck($field);}}
function mainCheck($field,regexp){var name=$field.name;checkNames[name]="";$field.setAttribute("data-validate","");$field.onkeyup=function(){var condition=regexp.test(this.value)==true;conditionCheck($field,condition);};$field.onblur=function(e){if($field.getAttribute("data-validate")!="success"){$field.setAttribute("data-validate","fail");}};}
function additionalCheck($field){checkNames[$field.name]="";$field.setAttribute("data-validate","");var validation=$field.getAttribute("data-check");var condition=false;if(validation.indexOf(":")!==-1){var validationArr=validation.split(":");var type=validationArr[0];var valueCheck=validationArr[1];$field.addEventListener('change',function(){var curValue=this.value;var wordsLength=curValue.length;switch(type){case"min":condition=wordsLength>=parseInt(valueCheck);break;case"max":condition=wordsLength<=parseInt(valueCheck);break;case"range":var rangeArr=valueCheck.split("-");condition=wordsLength>=parseInt(rangeArr[0])&&wordsLength<=parseInt(rangeArr[1]);break;case"reg":var reg=new RegExp(valueCheck);condition=curValue.search(reg)!==-1;break;}
conditionCheck($field,condition);});$field.addEventListener('blur',function(){if($field.getAttribute("data-validate")!="success"){$field.setAttribute("data-validate","fail");}});}else if(validation=="checkbox"){$field.addEventListener('change',function(){condition=this.checked;conditionCheck($field,condition);});}}
function conditionCheck($field,condition){var name=$field.name;if(condition==true){$field.setAttribute("data-validate","success");checkNames[name]="success";}else{$field.setAttribute("data-validate","");checkNames[name]="";}
var localFlag=true;for(var item in checkNames){if(checkNames.hasOwnProperty(item)){if(checkNames[item]!="success")localFlag=false;}}
validateFlag=localFlag;}}
var $responseBlock=d.createElement("div");$responseBlock.className="uf-Response";$wrapBlock.appendChild($responseBlock);var $responseText=d.createElement("p");$responseText.className="uf-Response-text";$responseBlock.appendChild($responseText);if(flag!="siteForm"){var $close=d.createElement("button");$close.className="uf-Response-close";$close.type="button";$close.textContent="Закрыть";$responseBlock.appendChild($close);$close.addEventListener('click',function(){Module.closePopUp();});}
function generateHiddenInput(name,value){var $input=d.createElement("input");$input.type="hidden";$input.name=name;$input.value=value;return $input;}
function submit(e,$inputs,Module,$actionBlock,$handler,num){var $but=e.currentTarget;if(validateFlag==true){var ycounter=null;var myRegexp=/ym\((.+?), \"init\"/;for(var i=0;i<document.scripts.length;i++){var match=myRegexp.exec(document.scripts[i].text);if(match){ycounter=match[1];break;}}
if(ycounter&&$inputs.metrika){if(typeof ym!=='undefined'){ym(ycounter,'reachGoal',$inputs.metrika.value);console.log("\u042F\u043D\u0434\u0435\u043A\u0441 \u043C\u0435\u0442\u0440\u0438\u043A\u0430: "+ycounter+" - reachGoal - "+$inputs.metrika.value);}else if(window["yaCounter"+ycounter]!=='undefined'){var obj=window["yaCounter"+ycounter];obj.reachGoal($inputs.metrika.value);console.log("\u042F\u043D\u0434\u0435\u043A\u0441 \u043C\u0435\u0442\u0440\u0438\u043A\u0430: "+ycounter+" - reachGoal - "+$inputs.metrika.value);}}
Module.config.beforeSend(e);Module.ajaxSend($actionBlock,$forms[num],$inputs,$fieldsets[num],$responseText,$responseBlock,flag,Module.config.postUrl,Module);$but.removeEventListener('click',function(){submit(e,$inputs,Module,$actionBlock,$handler,num);});}else{for(var item in $inputs){if($inputs.hasOwnProperty(item)){if($inputs[item].hasAttribute("data-validate")&&$inputs[item].getAttribute("data-validate")!="success")$inputs[item].setAttribute("data-validate","fail");}}
$but.setAttribute("data-validate","fail");setTimeout(function(){$but.setAttribute("data-validate","");},1500);}
function getCounterNumber(){}}}},{key:"closePopUp",value:function closePopUp(){var triggerObj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var Module=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.popupState=false;$hiddenBlock.classList.remove("-open");screenFilter.classList.remove("-"+filter);$hiddenBlock.addEventListener("transitionend",hidden);if(Module!=null){var tr=Module.config.timingTriggers;if(Array.isArray(tr)&&tr.length>0){if(triggerObj!=null&&Module!=null){Module.setTimeTrigger(triggerObj,Module,false);}else{timers.forEach(function(elem,i,arr){Module.setTimeTrigger(elem,Module,false,true);});}}}
function hidden(){$hiddenBlock.removeEventListener("transitionend",hidden);$hiddenBlock.classList.remove("-sent");$hiddenBlock.innerHTML="";screenFilter.classList.add("-"+filter);screenFilter.classList.remove("-open");}}},{key:"ajaxSend",value:function ajaxSend($actionBlock,$form,$inputs,$fieldset,$responseText,$responseBlock,flag,url,Module){var data=new FormData($form);var fieldsPlus=[];[].forEach.call($inputs,function($item){if($item.hasAttribute("data-caption")){fieldsPlus.push({name:$item.name,caption:$item.getAttribute("data-caption")});}});if(fieldsPlus.length>0){data.set("fields_plus",JSON.stringify(fieldsPlus));}
loader($fieldset,flag);var xhr=getXHR();if(xhr){xhr.open("POST",url,true);xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var responseBase=JSON.parse(xhr.responseText);console.log(responseBase);if(responseBase&&responseBase.responseArray){var response=JSON.parse(xhr.responseText).responseArray;$responseText.innerHTML=response.message;$responseBlock.classList.add("-"+response.flag);if(flag=="siteForm"){$actionBlock.classList.add("-sent");$form.parentElement.removeChild($form);}else{$hiddenBlock.classList.add("-sent");}}}};xhr.send(data);validateFlag=false;}
function loader($fieldset,flag){$fieldset.classList.add("-close");if(flag=="siteForm")$fieldset.innerHTML="";var $loader=d.createElement("img");$loader.className="uf-loader";$loader.src="/Plugin/UniFeedback/img/loader.gif";$fieldset.appendChild($loader);}}}]);return uniFeedback;}();return uniFeedback;}();}).call(this);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})});"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var ScreenSwitcher=function(){function ScreenSwitcher($container,callback,onInit){_classCallCheck(this,ScreenSwitcher);this.$container=$container;this.$sections=$container.children();this.callback=callback;this.dataParam='param';this.attr="data-".concat(this.dataParam);this.active=this.$container.children('.-active').data(this.dataParam);this.flag=false;this.animationClasses={'up':{current:'-scrollCurrentDown',new:'-scrollNewDown'},'down':{current:'-scrollCurrentUp',new:'-scrollNewUp'},'left':{current:'-scrollCurrentRight',new:'-scrollNewRight'},'right':{current:'-scrollCurrentLeft',new:'-scrollNewLeft'}};this.scroll();this.keyPress();this.touch();if(typeof onInit==='function'){setTimeout(onInit,0);}}
_createClass(ScreenSwitcher,[{key:"switcher",value:function switcher(id,direction){var _this=this;if(this.flag||this.active===id)return;this.flag=true;var $currentActiveSection=this.$sections.closest("[".concat(this.attr,"=\"").concat(this.active,"\"]"));var $newActiveSection=this.$sections.closest("[".concat(this.attr,"=\"").concat(id,"\"]"));var currentActiveSectionAnimate=this.animationClasses[direction].current;var newActiveSectionAnimate=this.animationClasses[direction].new;$currentActiveSection.addClass(currentActiveSectionAnimate);$newActiveSection.addClass(newActiveSectionAnimate);$newActiveSection.one('animationend',function(){_this.$sections.removeClass("".concat(currentActiveSectionAnimate," ").concat(newActiveSectionAnimate," -active"));$newActiveSection.addClass('-active');_this.active=id;_this.flag=false;if(typeof _this.callback==='function'){_this.callback();}});$newActiveSection.find('.-stop').one('animationend',function(event){event.stopPropagation();});}},{key:"scroll",value:function scroll(){var _this2=this;this.$container.bind('mousewheel DOMMouseScroll',function(event){if($(event.target).closest('.-inActive').length){return true;}
var $activeSection=_this2.$sections.closest("[".concat(_this2.attr,"=\"").concat(_this2.active,"\"]"));var id=null;var direction;if(event.originalEvent.wheelDelta>0||event.originalEvent.detail<0){var $prevActiveSection=$activeSection.prevAll(':not(.-no-global)');if($prevActiveSection.length){id=$prevActiveSection.first().data(_this2.dataParam);direction='up';}}else{var $nextActiveSection=$activeSection.nextAll(':not(.-no-global)');if($nextActiveSection.length){id=$nextActiveSection.first().data(_this2.dataParam);direction='down';}}
if(event.ctrlKey==false){if(id){_this2.switcher(id,direction);}}});}},{key:"keyPress",value:function keyPress(){var _this3=this;$(document).on('keydown',function(event){var $activeSection=_this3.$sections.closest("[".concat(_this3.attr,"=\"").concat(_this3.active,"\"]"));var id=null;var direction;if(event.keyCode==38){var $prevActiveSection=$activeSection.prevAll(':not(.-no-global)');if($prevActiveSection.length){id=$prevActiveSection.first().data(_this3.dataParam);direction='up';}}else if(event.keyCode==40){var $nextActiveSection=$activeSection.nextAll(':not(.-no-global)');if($nextActiveSection.length){id=$nextActiveSection.first().data(_this3.dataParam);direction='down';}}
if(!$(event.target).is('input')){if(id){_this3.switcher(id,direction);}}});}},{key:"touch",value:function touch(){var _this4=this;var id=null;var direction;var touchStart=null;var touchEnd=null;$(window).on('touchstart',function(event){if($(event.target).closest('.-inActive').length){return true;}
touchStart=event.originalEvent.changedTouches[0].pageY;});$(window).on('touchend',function(event){if($(event.target).closest('.-inActive').length){return true;}
id=null;touchEnd=event.originalEvent.changedTouches[0].pageY;var $activeSection=_this4.$sections.closest("[".concat(_this4.attr,"=\"").concat(_this4.active,"\"]"));var touchDifference=touchStart-touchEnd;if(touchDifference<-75){var $prevActiveSection=$activeSection.prevAll(':not(.-no-global)');if($prevActiveSection.length){id=$prevActiveSection.first().data(_this4.dataParam);direction='up';}}else if(touchDifference>75){var $nextActiveSection=$activeSection.nextAll(':not(.-no-global)');if($nextActiveSection.length){id=$nextActiveSection.first().data(_this4.dataParam);direction='down';}}
if(id){_this4.switcher(id,direction);}});}}]);return ScreenSwitcher;}();